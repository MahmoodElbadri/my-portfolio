<section class="projects-section d-flex align-items-center" id="projects">
  <div class="container">
    
    <div class="section-title text-center mb-5">
      <span class="section-badge animate-fade-in">Innovation & Quality</span>
      <h2 class="display-4 fw-bold text-white mt-2">
        Featured <span class="highlight">Projects</span>
      </h2>
      <p class="section-subtitle mx-auto">
        A demonstration of <strong>Full Stack</strong> proficiency and a <strong>Quality-First</strong> mindset.
      </p>
    </div>

    <swiper-container 
      #swiperRef 
      navigation="true" 
      pagination="true" 
      slides-per-view="1" 
      space-between="20"
      loop="true"
      grab-cursor="true"
      centered-slides="true"
      observer="true"
      observe-parents="true"
      auto-height="true"
      breakpoints='{
        "768": { "slidesPerView": 2, "spaceBetween": 25 },
        "1024": { "slidesPerView": 3, "spaceBetween": 30 }
      }'
      style="--swiper-navigation-color: #3b82f6; --swiper-pagination-color: #3b82f6;">
      
      @for (project of projects(); track project.title) {
        <swiper-slide [attr.key]="project.title">
          <div class="project-card glass-morphism h-100">
            
            <div class="card-img-wrapper" 
                 [style.background]="'linear-gradient(135deg, ' + project.gradientFrom + ' 0%, ' + project.gradientTo + ' 100%)'">
              
              <img [src]="project.image" 
                   [alt]="project.title" 
                   class="project-screenshot"
                   (error)="onImageError($event, project)">
              
              <div class="fallback-overlay">
                <i [class]="'bi ' + project.fallbackIcon"></i>
                <span class="year-label">{{ project.year }}</span>
              </div>
            </div>
            
            <div class="card-body d-flex flex-column">
              <h3 class="h5 text-white fw-bold mb-3">{{ project.title }}</h3>
              
              <p class="project-desc mb-4" [innerHTML]="project.description"></p>
              
              <div class="tech-stack d-flex flex-wrap gap-2 mb-4 mt-auto">
                @for (tag of project.tags; track tag) {
                  <span class="tech-badge">{{ tag }}</span>
                }
              </div>

              <div class="project-actions d-flex gap-2">
                <a [href]="project.githubUrl" target="_blank" class="btn btn-github flex-grow-1">
                  <i class="bi bi-github"></i> <span>Code</span>
                </a>
                
                @if (project.liveUrl) {
                  <a [href]="project.liveUrl" target="_blank" class="btn btn-demo flex-grow-1">
                    <i class="bi bi-box-arrow-up-right"></i> <span>Demo</span>
                  </a>
                } @else {
                  <button class="btn btn-disabled flex-grow-1" disabled>
                    <i class="bi bi-hourglass-split"></i> <span>Soon</span>
                  </button>
                }
              </div>
            </div>
          </div>
        </swiper-slide>
      }
    </swiper-container>
  </div>
</section>