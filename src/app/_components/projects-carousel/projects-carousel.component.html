<section class="projects-section" id="projects">
  <div class="container">
    <!-- Enhanced Section Header -->
    <div class="section-title">
      <span class="section-badge">Portfolio</span>
      <h2>Featured <span class="highlight">Projects</span></h2>
      <p class="section-subtitle">A showcase of my recent work and technical implementations</p>
    </div>

    <!-- Swiper Carousel -->
    <swiper-container 
      #swiperRef 
      navigation="true" 
      pagination="true" 
      slides-per-view="1" 
      space-between="30"
      breakpoints='{
        "640": {
          "slidesPerView": 1,
          "spaceBetween": 20
        },
        "768": {
          "slidesPerView": 2,
          "spaceBetween": 25
        },
        "1024": {
          "slidesPerView": 3,
          "spaceBetween": 30
        }
      }'
      autoplay-delay="5000"
      autoplay-disable-on-interaction="false"
      loop="true"
      grab-cursor="true"
      style="--swiper-navigation-color: #3b82f6; --swiper-pagination-color: #3b82f6;">
      
      @for (project of projects(); track project.title) {
        <swiper-slide>
          <div class="project-card">
            
            <!-- Image Container with Fallback -->
            <div class="card-img-container" 
                 [style.background]="'linear-gradient(135deg, ' + project.gradientFrom + ' 0%, ' + project.gradientTo + ' 100%)'">
              
              <!-- Actual Image -->
              <img 
                [src]="project.image" 
                [alt]="project.title + ' screenshot'" 
                class="project-screenshot"
                (error)="onImageError($event, project)">
              
              <!-- Fallback Icon Placeholder -->
              <div class="fallback-placeholder">
                <i [class]="'bi ' + project.fallbackIcon"></i>
                <span class="year-badge">{{ project.year }}</span>
              </div>
            </div>
            
            <!-- Card Content -->
            <div class="card-body">
              <div class="card-content">
                <h3 class="project-title">{{ project.title }}</h3>
                <p class="project-description" [innerHTML]="project.description"></p>
                
                <!-- Tech Stack Tags -->
                <div class="tech-stack">
                  @for (tag of project.tags; track tag) {
                    <span class="tech-tag">{{ tag }}</span>
                  }
                </div>
              </div>
              
              <!-- Action Buttons -->
              <div class="project-links">
                <a [href]="project.githubUrl" 
                   target="_blank" 
                   rel="noopener noreferrer"
                   class="btn btn-github">
                  <i class="bi bi-github"></i>
                  <span>View Code</span>
                </a>
                
                @if (project.liveUrl) {
                  <a [href]="project.liveUrl" 
                     target="_blank" 
                     rel="noopener noreferrer"
                     class="btn btn-demo">
                    <i class="bi bi-box-arrow-up-right"></i>
                    <span>Live Demo</span>
                  </a>
                } @else {
                  <button class="btn btn-demo btn-disabled" disabled>
                    <i class="bi bi-hourglass-split"></i>
                    <span>Coming Soon</span>
                  </button>
                }
              </div>
            </div>
          </div>
        </swiper-slide>
      }
    </swiper-container>
  </div>
</section>